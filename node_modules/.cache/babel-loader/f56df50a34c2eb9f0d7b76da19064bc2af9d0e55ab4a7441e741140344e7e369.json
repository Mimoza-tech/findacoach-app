{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  async contactCoach(context, payload) {\n    const newRequest = {\n      userEmail: payload.email,\n      message: payload.message\n    };\n    const response = await fetch(`https://vue-http-demo-186f9-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, {\n      method: 'POST',\n      body: JSON.stringify(newRequest)\n    });\n    const responseData = await response.json();\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to send request.');\n      throw error;\n    }\n    newRequest.id = responseData.name;\n    newRequest.coachId = payload.coachId;\n    context.commit('addRequest', newRequest);\n  },\n  async fetchRequests(context) {\n    const coachId = context.rootGetters.userId;\n    const response = await fetch(`https://vue-http-demo-85e9e.firebaseio.com/requests/${coachId}.json`);\n    const responseData = await response.json();\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to fetch requests.');\n      throw error;\n    }\n    const requests = [];\n    for (const key in responseData) {\n      const request = {\n        id: key,\n        coachId: coachId,\n        userEmail: responseData[key].userEmail,\n        message: responseData[key].message\n      };\n      requests.push(request);\n    }\n    context.commit('setRequests', requests);\n  }\n};","map":{"version":3,"names":["contactCoach","context","payload","newRequest","userEmail","email","message","response","fetch","coachId","method","body","JSON","stringify","responseData","json","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","requests","key","request","push"],"sources":["/Users/mimozaneziri/Downloads/findacoach-app 2/src/store/modules/requests/actions.js"],"sourcesContent":["export default {\n  async contactCoach(context, payload) {\n    const newRequest = {\n      userEmail: payload.email,\n      message: payload.message\n    };\n    const response = await fetch(`https://vue-http-demo-186f9-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, {\n      method: 'POST',\n      body: JSON.stringify(newRequest)\n    });\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to send request.');\n      throw error;\n    }\n\n    newRequest.id = responseData.name;\n    newRequest.coachId = payload.coachId;\n\n    context.commit('addRequest', newRequest);\n  },\n  async fetchRequests(context) {\n    const coachId = context.rootGetters.userId;\n    const response = await fetch(`https://vue-http-demo-85e9e.firebaseio.com/requests/${coachId}.json`);\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to fetch requests.');\n      throw error;\n    }\n\n    const requests = [];\n\n    for (const key in responseData) {\n      const request = {\n        id: key,\n        coachId: coachId,\n        userEmail: responseData[key].userEmail,\n        message: responseData[key].message\n      };\n      requests.push(request);\n    }\n\n    context.commit('setRequests', requests);\n  }\n};"],"mappings":";AAAA,eAAe;EACb,MAAMA,YAAY,CAACC,OAAO,EAAEC,OAAO,EAAE;IACnC,MAAMC,UAAU,GAAG;MACjBC,SAAS,EAAEF,OAAO,CAACG,KAAK;MACxBC,OAAO,EAAEJ,OAAO,CAACI;IACnB,CAAC;IACD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,oEAAmEN,OAAO,CAACO,OAAQ,OAAM,EAAE;MACvHC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,UAAU;IACjC,CAAC,CAAC;IAEF,MAAMW,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAE1C,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACJ,YAAY,CAACR,OAAO,IAAI,yBAAyB,CAAC;MAC1E,MAAMW,KAAK;IACb;IAEAd,UAAU,CAACgB,EAAE,GAAGL,YAAY,CAACM,IAAI;IACjCjB,UAAU,CAACM,OAAO,GAAGP,OAAO,CAACO,OAAO;IAEpCR,OAAO,CAACoB,MAAM,CAAC,YAAY,EAAElB,UAAU,CAAC;EAC1C,CAAC;EACD,MAAMmB,aAAa,CAACrB,OAAO,EAAE;IAC3B,MAAMQ,OAAO,GAAGR,OAAO,CAACsB,WAAW,CAACC,MAAM;IAC1C,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAE,uDAAsDC,OAAQ,OAAM,CAAC;IACnG,MAAMK,YAAY,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAE1C,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;MAChB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACJ,YAAY,CAACR,OAAO,IAAI,2BAA2B,CAAC;MAC5E,MAAMW,KAAK;IACb;IAEA,MAAMQ,QAAQ,GAAG,EAAE;IAEnB,KAAK,MAAMC,GAAG,IAAIZ,YAAY,EAAE;MAC9B,MAAMa,OAAO,GAAG;QACdR,EAAE,EAAEO,GAAG;QACPjB,OAAO,EAAEA,OAAO;QAChBL,SAAS,EAAEU,YAAY,CAACY,GAAG,CAAC,CAACtB,SAAS;QACtCE,OAAO,EAAEQ,YAAY,CAACY,GAAG,CAAC,CAACpB;MAC7B,CAAC;MACDmB,QAAQ,CAACG,IAAI,CAACD,OAAO,CAAC;IACxB;IAEA1B,OAAO,CAACoB,MAAM,CAAC,aAAa,EAAEI,QAAQ,CAAC;EACzC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}