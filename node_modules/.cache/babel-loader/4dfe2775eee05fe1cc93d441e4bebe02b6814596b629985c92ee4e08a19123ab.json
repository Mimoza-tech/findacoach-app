{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-a84a676a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"controls\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_base_dialog = _resolveComponent(\"base-dialog\");\n  const _component_coach_filter = _resolveComponent(\"coach-filter\");\n  const _component_base_button = _resolveComponent(\"base-button\");\n  const _component_base_spinner = _resolveComponent(\"base-spinner\");\n  const _component_coach_item = _resolveComponent(\"coach-item\");\n  const _component_base_card = _resolveComponent(\"base-card\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_base_dialog, {\n    show: !!$data.error,\n    title: \"An error occurred!\",\n    onClose: $options.handleError\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"p\", null, _toDisplayString($data.error), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\", \"onClose\"]), _createElementVNode(\"section\", null, [_createVNode(_component_coach_filter, {\n    onChangeFilter: $options.setFilters\n  }, null, 8 /* PROPS */, [\"onChangeFilter\"])]), _createElementVNode(\"section\", null, [_createVNode(_component_base_card, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_base_button, {\n      mode: \"outline\",\n      onClick: _cache[0] || (_cache[0] = $event => $options.loadCoaches(true))\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Refresh\")]),\n      _: 1 /* STABLE */\n    }), !$options.isCoach && !$data.isLoading ? (_openBlock(), _createBlock(_component_base_button, {\n      key: 0,\n      link: \"\",\n      to: \"/register\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Register as Coach\")]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_base_spinner)])) : $options.hasCoaches ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredCoaches, coach => {\n      return _openBlock(), _createBlock(_component_coach_item, {\n        key: coach.id,\n        id: coach.id,\n        \"first-name\": coach.firstName,\n        \"last-name\": coach.lastName,\n        rate: coach.hourlyRate,\n        areas: coach.areas\n      }, null, 8 /* PROPS */, [\"id\", \"first-name\", \"last-name\", \"rate\", \"areas\"]);\n    }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"h3\", _hoisted_4, \"No coaches found.\"))]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"mappings":";;;EAUaA,KAAK,EAAC;AAAU;;;;;;;;;;;;;;;;;uBAT3BC,oBA8BM,cA7BJC,aAEcC;IAFAC,IAAI,IAAIC,WAAK;IAAEC,KAAK,EAAC,oBAAoB;IAAEC,OAAK,EAAEC;;sBAC9D,MAAkB,CAAlBC,oBAAkB,4BAAZJ,WAAK;;;0CAEbI,oBAEU,kBADRP,aAAyDQ;IAA1CC,cAAa,EAAEH;EAAU,+CAE1CC,oBAsBU,kBArBRP,aAoBYU;sBAnBV,MAGM,CAHNH,oBAGM,OAHNI,UAGM,GAFJX,aAA4EY;MAA/DC,IAAI,EAAC,SAAS;MAAEC,OAAK,sCAAER,oBAAW;;wBAAQ,MAAO,kBAAP,SAAO;;SAC1CA,gBAAO,KAAKH,eAAS,kBAAzCY,aAA8FH;;MAAnDI,IAAI,EAAJ,EAAI;MAACC,EAAE,EAAC;;wBAAY,MAAiB,kBAAjB,mBAAiB;;+CAEvEd,eAAS,kBAApBJ,oBAEM,oBADJC,aAA6BkB,8BAEhBZ,mBAAU,kBAAzBP,oBAUK,sCATHA,oBAQcoB,6BAPIb,wBAAe,EAAxBc,KAAK;2BADdL,aAQcM;QANXC,GAAG,EAAEF,KAAK,CAACG,EAAE;QACbA,EAAE,EAAEH,KAAK,CAACG,EAAE;QACZ,YAAU,EAAEH,KAAK,CAACI,SAAS;QAC3B,WAAS,EAAEJ,KAAK,CAACK,QAAQ;QACzBC,IAAI,EAAEN,KAAK,CAACO,UAAU;QACtBC,KAAK,EAAER,KAAK,CAACQ;;uDAGlB7B,oBAAiC,kBAAtB,mBAAiB","names":["class","_createElementBlock","_createVNode","_component_base_dialog","show","$data","title","onClose","$options","_createElementVNode","_component_coach_filter","onChangeFilter","_component_base_card","_hoisted_1","_component_base_button","mode","onClick","_createBlock","link","to","_component_base_spinner","_Fragment","coach","_component_coach_item","key","id","firstName","lastName","rate","hourlyRate","areas"],"sourceRoot":"","sources":["/Users/mimozaneziri/Downloads/findacoach-app 2/src/pages/coaches/CoachesList.vue"],"sourcesContent":["<template>\n  <div>\n    <base-dialog :show=\"!!error\" title=\"An error occurred!\" @close=\"handleError\">\n      <p>{{ error }}</p>\n    </base-dialog>\n    <section>\n      <coach-filter @change-filter=\"setFilters\"></coach-filter>\n    </section>\n    <section>\n      <base-card>\n        <div class=\"controls\">\n          <base-button mode=\"outline\" @click=\"loadCoaches(true)\">Refresh</base-button>\n          <base-button v-if=\"!isCoach && !isLoading\" link to=\"/register\">Register as Coach</base-button>\n        </div>\n        <div v-if=\"isLoading\">\n          <base-spinner></base-spinner>\n        </div>\n        <ul v-else-if=\"hasCoaches\">\n          <coach-item\n            v-for=\"coach in filteredCoaches\"\n            :key=\"coach.id\"\n            :id=\"coach.id\"\n            :first-name=\"coach.firstName\"\n            :last-name=\"coach.lastName\"\n            :rate=\"coach.hourlyRate\"\n            :areas=\"coach.areas\"\n          ></coach-item>\n        </ul>\n        <h3 v-else>No coaches found.</h3>\n      </base-card>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CoachItem from '../../components/coaches/CoachItem.vue';\nimport CoachFilter from '../../components/coaches/CoachFilter.vue';\n\nexport default {\n  components: {\n    CoachItem,\n    CoachFilter,\n  },\n  data() {\n    return {\n      isLoading: false,\n      error: null,\n      activeFilters: {\n        frontend: true,\n        backend: true,\n        career: true,\n      },\n    };\n  },\n  computed: {\n    isCoach() {\n      return this.$store.getters['coaches/isCoach'];\n    },\n    filteredCoaches() {\n      const coaches = this.$store.getters['coaches/coaches'];\n      return coaches.filter((coach) => {\n        if (this.activeFilters.frontend && coach.areas.includes('frontend')) {\n          return true;\n        }\n        if (this.activeFilters.backend && coach.areas.includes('backend')) {\n          return true;\n        }\n        if (this.activeFilters.career && coach.areas.includes('career')) {\n          return true;\n        }\n        return false;\n      });\n    },\n    hasCoaches() {\n      return !this.isLoading && this.$store.getters['coaches/hasCoaches'];\n    },\n  },\n  created() {\n    this.loadCoaches();\n  },\n  methods: {\n    setFilters(updatedFilters) {\n      this.activeFilters = updatedFilters;\n    },\n    async loadCoaches(refresh = false) {\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('coaches/loadCoaches', {\n          forceRefresh: refresh,\n        });\n      } catch (error) {\n        this.error = error.message || 'Something went wrong!';\n      }\n      this.isLoading = false;\n    },\n    handleError() {\n      this.error = null;\n    },\n  },\n};\n</script>\n\n<style scoped>\nul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.controls {\n  display: flex;\n  justify-content: space-between;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}